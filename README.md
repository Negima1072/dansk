# NicoNicoDansaScriptCustom

This is a script that works with Nico Nico Douga.  It helps to utilize the comment function.
Created By @Negima1072, @eneko0513 and @xpadev-net

## 推奨環境

- Chrome
- Brave
- Firefox

その他Chromium系であれば動作すると思われます

## 拡張機能の読み込み

### Chrome

[拡張機能](chrome://extensions/)を開き、右上のデベロッパーモードを有効にします
ダウンロードしてきたzipファイルを解凍し、「パッケージ化されていない拡張機能を読み込む」から、中のdistフォルダーを選択します

### Firefox

ダウンロードしてきたzipファイルを解凍し、distフォルダー内のmanifest.jsonを削除し、manifest.firefox.jsonをmanifest.jsonにリネームします
[デバッガー](about:debugging#/runtime/this-firefox)を開き、「一時的なアドオンを読み込む」から、先程リネームしたmanifest.jsonを選択します

## 変更点

### v2.0.2

#### 修正
- ダークモード対応のためのスタイル修正
- Timeで大きく前に戻る場合に起きる描画バグの修正

### v2.0.1

#### 修正
- 表示/UIの修正
- Timeでマイナス方向へ移動するときのコメ表示バグを修正

### v2.0.0

#### 追加
- 帰ってきたニコニコに仮対応

### v1.0.19

#### 修正
- バグ修正

### v1.0.18

#### 修正
- レイアウトが崩れるバグを修正

### v1.0.17

#### 修正
- 改行時に文字数上限になるバグを修正
- 仮のエラー修正

### v1.0.16

#### 追加
- (Re: 仮)への仮対応

### v1.0.15

#### 修正
- 等幅出力時のバグを修正

### v1.0.14

#### 追加
- 非プレ垢のカラーコードを有効化する設定を追加
- 空白の最適化を無効化する設定を追加
  - この場合、リード行の挿入や行頭の空白の削除、空白の置換などは行われなくなります

### v1.0.13

#### 追加

- グリッド画像の追加
- どーもさんツールのXMLファイルの読み込みに対応(試験的)

#### 修正

- shitaやnakaが選択できなかったテンプレを修正

### v1.0.12

#### 追加

- 184を無効化する機能を追加(not184時投稿ボタン橙色)
- Output欄のテキストをダウンロードするボタンを追加
- 動画とコメントのスクリーンショットをダウンロードするボタンを追加

### v1.0.11

#### 修正

- 投稿時にコマンドが反映されないバグを修正

### v1.0.10

#### 修正

- Chromium系でinputの値が正しくない旨のエラーが発生するバグを修正
- 異なる色のレイヤーを一括で色変更できないバグを修正
- Tab置換時の処理順を修正

#### 追加

- 画像切り抜きに16:9化ボタンを追加
- 画像ダウンロード機能を追加
- 単色背景追加画面にカラコ入力欄を追加

### v1.0.9

#### 修正

- カラーピッカーが反映されないバグを修正
- Mainのボタンが機能しないバグ修正
- スタイルの微調整
- コメントが投下できないバグ修正
- 選択中のレイヤーが常に上に表示されるバグを修正

#### 追加

- ダウンロードファイルに日時を表示する設定を追加
- バックグラウンド画像クリップ機能追加

### v1.0.8

#### 修正

- 稀にだんすくがクラッシュするバグの修正(経過観察中)
- 選択されたレイヤーを上に表示する設定を追加
- 空のバックアップを作成しないように変更
- 重複するバックアップを(なるべく)作成しないように変更

### v1.0.7

#### 修正

- Tabモードで１コメントあたり１行しか置換が実行されないバグを修正
- Macにおける互換性を改善
- small ue W37 L2のshita位置を修正

### v1.0.6-fix

#### 修正

- package/manifest.jsonの更新を忘れていたため修正
  リリース時にpackage.jsonを参照してmanifest.jsonを更新するように変更

### v1.0.6

#### 修正

- 右に空白が生えるバグを修正
- 積みがずれるバグを修正
- 積みの一部コメントが出力されないバグを修正
- 単色背景に黒を追加できないバグを修正
- U+a001が出力されないバグを修正

#### 改善

- カラコ入力に対応
- 一部テンプレの互換性改善
- 新規レイヤー作成時に既存のレイヤーの色を引き継ぐように
- 置換モードにa -> U+200Aを追加
- 出力ボタンを押してもテキストエリアに改行が生えないように変更

#### 追加

- プレビュー機能追加
- 非表示レイヤーを出力するオプション追加
- 出力エリアの行数表示を追加
- コメント確認ウィンドウを追加

### v1.0.5

#### 変更

- レイヤーの警告表示の条件を改善
- その他微調整

#### 追加

- 多数の線画用文字横幅情報を追加
- 上に加え点字文字の横幅情報を追加
- レイヤー名をコマンドの任意の場所に挿入可能に

### v1.0.4

#### 変更

- 既知の不具合の修正
- 一部テンプレ値の修正
- OutputBoxのボタンの並び順の変更

#### 追加

- 背景画像の透明度設定機能
- CSS編集画面のプレビュー追加・変更できる値追加
- Redo/Undo機能の追加

### v1.0.3

#### 変更

- レイヤー編集関連のバグ修正
- 背景画像のレイヤー順をニコ動コメント描写レイヤーよりも下へ
- いくつかのテンプレのCSS値を適正化
- OutputBoxをwrapしないように変更

#### 追加

- OutputBoxにクリアボタンを追加

### v1.0.2

#### 変更

- 背景画像に単色背景を設定できるよう修正
- いくつかのバグ修正

#### 追加

- メモ機能
- 設定画面
  - コマンドの並び変え変更機能
  - CA、Patissierコマンドの追加機能
  - 独自コマンド追加機能
  - 投稿時間間隔変更機能
  - その他もろもろ設定機能
- CSS調整機能
- 保存・読み込み機能
- 自動保存機能

### v1.0.0

#### 廃止

- 線画モード
  今後設定で同等の機能を追加する予定です
- sageコマンド
  ニコニコ側で廃止されたため

#### 変更

- 動的な画面サイズの変更に対応しました画面読み込み後に画面サイズを変更しても、表示が崩れなくなりました
- 複数コメントによるテンプレートを１つのレイヤーとして扱うように変更しました１レイヤーで一覧がうまることがなくなりました
- 時間移動の入力の制限を緩和しました
  使用できるフォーマット：xx:xx.xx / xx.xx / xx:xx / xx
  それぞれ前に+/-をつけると相対で時間移動します

#### 追加

- レイヤー名を変更できるようにしましたレイヤー名をダブルクリックすると入力できるようになります
- 複数レイヤーをまとめて選択/編集/出力できるようにしましたctrl/cmd + クリックで複数レイヤーを選択できます
- 複数の背景を保持できるようにしました
  ついでに画像をURLから指定できるようになってます
